<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="style.css">
    <script src="jquery.js"></script>
    <script src="moment.js"></script>
    <script src="data_generator.js"></script>
    <!--<script src="script.js"></script> -->

  </head>
  <body>


<script type="text/javascript">
 var result = [];
      $(document).ready(function(){
        var $body = $('body');
        $body.html('');

        var index = streams.home.length - 1;
        while(index >= 0){
          var tweet = streams.home[index];
          var $tweet = $('<div></div>');
          $tweet.text('@' + tweet.user + ': ' + tweet.message);
          $tweet.appendTo($body);
          index -= 1;
        }

        var displayNames = {
          shawn: "ShawnyyBoyyy",
          sharks: "SharkzzzFoCheap",
          marcus: "Marcus Raucus",
          doug: "Douggy Boyy"
        };
        var name = "";
        var image = "";
        var time = moment().fromNow();

        function prependTweets(){
          
          var user = tweet.user
          switch(user){
            case 'shawndrost':
              name = displayNames.shawn;
              $user = $('<div><a  href = "1" class = "shawn">' + name + ' + </a></div>');
              image = '<img src = shawn.jpg>'
              break;
            case 'sharksforcheap':
              $user = $('<button  href = # class = "displayNames"></button>');
              name = displayNames.sharks
              image = '<img src = shark.jpg>'
              break;
            case 'mracus':
              $user = $('<div class = "displayNames"><a  href = "3"></a></div');
              name =  displayNames.marcus 
              image = '<img src = marcus.jpg>'
              break;  
            case 'douglascalhoun':
              $user = $('<a  href = "4" class = "displayNames"></a>');
              name =  displayNames.doug 
              image = '<img src = beard.jpg>'
              break;                
          }
          //Variables for Users, Messages, and Dates //
          $user.text('@' + user);
          var message = tweet.message
          var $message = $('<div class = "messages"></div>');
          $message.text(message);
          var created_at = tweet.created_at
          var $created_at = $('<div class = "dates"></div>');
          $created_at.text(created_at);

          index = streams.home.length - 1;
          tweet = streams.home[index]
          var $tweet = $('<div></div>');
          $tweet.text('@' + user + ': ' + message + created_at);
          //$tweet.appendTo($body);
          //console.log(streams.users);
          $body.prepend(  '<div>' + image + 
                           '&nbsp' +
                          '<p class = "displayNames">' + name + '&nbsp' + 
                          '<p class = "userNames">' + '@' + user + '&nbsp' + '</p>' +
                          '<p class = "userNames"> Â· </p>' + '  ' + 
                          '<p class = "userNames">' + time + '</p>' + 
                          '<p class = "messages">' + message + '</p>' +
                          '</div>', '<br/>');


          //body.prepend('<br>' + '@' + $user.html() + ': ' + $message.html() + '<br>' + $created_at.html());
        }
        function timedRefresh(){
          setInterval(prependTweets, 2000)
        }
        timedRefresh();

      });


</script>

  </body>
</html>
